<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Writing documentation &mdash; Matplotlib 2.1.0.post986+g1493192 documentation</title>
    
    <link rel="stylesheet" href="../_static/mpl.css"
type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css"
type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.0.post986+g1493192',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 2.1.0.post986+g1493192 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html"
/>
    <link rel="search" title="Search" href="../search.html"
/>
    <link rel="top" title="Matplotlib 2.1.0.post986+g1493192 documentation" href="../index.html" />
    <link rel="up" title="The Matplotlib Developers’ Guide" href="index.html" />
    <link rel="next" title="Developer’s guide for creating scales and transformations" href="add_new_projection.html" />
    <link rel="prev" title="Developer’s tips for testing" href="testing.html" /> 


  </head>
  <body>


<div id="unreleased-message">
    You are reading documentation for the unreleased version of Matplotlib.
    <a href="https://matplotlib.org/search.html?q=Writing%20documentation&amp;check_keywords=yes&amp;area=default">
        Try searching for the released version of this page instead?
    </a>
</div>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
<a href="../index.html"><img src="../_static/logo2.svg" width="540px" border="0" alt="matplotlib"/></a>

<!-- The "Fork me on github" ribbon -->
<div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
</div>




    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="add_new_projection.html" title="Developer’s guide for creating scales and transformations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="testing.html" title="Developer’s tips for testing"
             accesskey="P">previous</a> |</li>

        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../gallery/index.html">examples</a>|&nbsp;</li>
        <li><a href="../tutorials/index.html">tutorials</a>|&nbsp;</li>
        <li><a href="../api/pyplot_summary.html">pyplot</a>|&nbsp;</li>
        <li><a href="../contents.html">docs</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">The Matplotlib Developers’ Guide</a> &raquo;</li> 
      </ul>
    </div>

  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><a href="https://www.numfocus.org">
  <image src="https://img.shields.io/badge/powered%20by-NumFOCUS-orange.svg?style=flat&amp;colorA=E1523D&amp;colorB=007D8A">
</a>

<br/>

Travis-CI: <a href="https://travis-ci.org/matplotlib/matplotlib">
  <img src="https://travis-ci.org/matplotlib/matplotlib.svg?branch=master"/>
</a>
<br/>
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Writing documentation</a><ul>
<li><a class="reference internal" href="#getting-started">Getting started</a><ul>
<li><a class="reference internal" href="#installing-dependencies">Installing dependencies</a></li>
<li><a class="reference internal" href="#general-file-structure">General file structure</a></li>
<li><a class="reference internal" href="#building-the-docs">Building the docs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#writing-new-documentation">Writing new documentation</a><ul>
<li><a class="reference internal" href="#additional-formatting-conventions">Additional formatting conventions</a></li>
<li><a class="reference internal" href="#linking-to-other-code">Linking to other code</a></li>
<li><a class="reference internal" href="#function-arguments">Function arguments</a></li>
<li><a class="reference internal" href="#setters-and-getters">Setters and getters</a></li>
<li><a class="reference internal" href="#keyword-arguments">Keyword arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-figures">Adding figures</a><ul>
<li><a class="reference internal" href="#module-matplotlib.sphinxext.plot_directive">Plot directive documentation</a><ul>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#configuration-options">Configuration options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-animations">Adding animations</a></li>
<li><a class="reference internal" href="#referring-to-data-files">Referring to data files</a></li>
<li><a class="reference internal" href="#internal-section-references">Internal section references</a></li>
<li><a class="reference internal" href="#section-name-formatting">Section name formatting</a></li>
<li><a class="reference internal" href="#generating-inheritance-diagrams">Generating inheritance diagrams</a></li>
<li><a class="reference internal" href="#emacs-helpers">Emacs helpers</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../contents.html">Documentation overview</a><ul>
  <li><a href="index.html">The Matplotlib Developers’ Guide</a><ul>
      <li>Previous: <a href="testing.html" title="previous chapter">Developer’s tips for testing</a></li>
      <li>Next: <a href="add_new_projection.html" title="next chapter">Developer’s guide for creating scales and transformations</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/devel/documenting_mpl.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="writing-documentation">
<span id="documenting-matplotlib"></span><h1>Writing documentation<a class="headerlink" href="#writing-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="installing-dependencies">
<h3>Installing dependencies<a class="headerlink" href="#installing-dependencies" title="Permalink to this headline">¶</a></h3>
<p>The documentation for Matplotlib is generated from reStructuredText using
the <a class="reference external" href="http://www.sphinx-doc.org">Sphinx</a> documentation generation tool. There are several extra requirements
that are needed to build the documentation. They are listed in
<code class="file docutils literal"><span class="pre">doc-requirements.txt</span></code> and listed below:</p>
<ul class="simple">
<li>Sphinx&gt;=1.3, !=1.5.0, !=1.6.4</li>
<li>colorspacious</li>
<li>IPython</li>
<li>mock</li>
<li>numpydoc&gt;=0.4</li>
<li>Pillow</li>
<li>sphinx-gallery&gt;=0.1.12</li>
<li>graphviz</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>You’ll need a minimal working LaTeX distribution for many examples to run.</li>
<li><a class="reference external" href="http://www.graphviz.org/Download.php">Graphviz</a> is not a Python package,
and needs to be installed separately.</li>
</ul>
</div>
</div>
<div class="section" id="general-file-structure">
<h3>General file structure<a class="headerlink" href="#general-file-structure" title="Permalink to this headline">¶</a></h3>
<p>All documentation is built from the <code class="file docutils literal"><span class="pre">doc/</span></code> directory.  This directory
contains both <code class="docutils literal"><span class="pre">.rst</span></code> files that contain pages in the documentation and
configuration files for <a class="reference external" href="http://www.sphinx-doc.org">Sphinx</a>.</p>
<p>The <code class="docutils literal"><span class="pre">.rst</span></code> files are kept in <code class="file docutils literal"><span class="pre">doc/users</span></code>,
<code class="file docutils literal"><span class="pre">doc/devel</span></code>, <code class="file docutils literal"><span class="pre">doc/api</span></code> and <code class="file docutils literal"><span class="pre">doc/faq</span></code>. The main entry point is
<code class="file docutils literal"><span class="pre">doc/index.rst</span></code>, which pulls in the <code class="file docutils literal"><span class="pre">index.rst</span></code> file for the users
guide, developers guide, api reference, and FAQs. The documentation suite is
built as a single document in order to make the most effective use of cross
referencing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">An exception to this are the directories <code class="file docutils literal"><span class="pre">examples</span></code> and
<code class="file docutils literal"><span class="pre">tutorials</span></code>, which exist in the root directory.  These contain Python
files that are built by <a class="reference external" href="https://sphinx-gallery.readthedocs.io/en/latest/">Sphinx Gallery</a>.  When the docs are built,
the directories <code class="file docutils literal"><span class="pre">docs/gallery</span></code> and <code class="file docutils literal"><span class="pre">docs/tutorials</span></code>
are automatically generated. Do not edit the rst files in :<a class="reference external" href="file:docs/gallery">file:docs/gallery</a>
and :<a class="reference external" href="file:docs/tutorials">file:docs/tutorials</a>, as they are rebuilt from the original sources in
the root directory.</p>
</div>
<p>Additional files can be added to the various guides by including their base
file name (the .rst extension is not necessary) in the table of contents.
It is also possible to include other documents through the use of an include
statement, such as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">include</span><span class="p">::</span> <span class="o">../../</span><span class="n">TODO</span>
</pre></div>
</div>
<p>The configuration file for Sphinx is <code class="file docutils literal"><span class="pre">doc/conf.py</span></code>. It controls which
directories Sphinx parses, how the docs are built, and how the extensions are
used.</p>
</div>
<div class="section" id="building-the-docs">
<h3>Building the docs<a class="headerlink" href="#building-the-docs" title="Permalink to this headline">¶</a></h3>
<p>The documentation sources are found in the <code class="file docutils literal"><span class="pre">doc/</span></code> directory in the trunk.
To build the documentation in html format, cd into <code class="file docutils literal"><span class="pre">doc/</span></code> and run</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>make html
</pre></div>
</div>
<p>Other useful invocations include</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span><span class="c1"># Delete built files.  May help if you get errors about missing paths or</span>
<span class="c1"># broken links.</span>
make clean

<span class="c1"># Build pdf docs.</span>
make latexpdf
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">SPHINXOPTS</span></code> variable is set to <code class="docutils literal"><span class="pre">-W</span></code> by default to turn warnings into
errors.  To unset it, use</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>make <span class="nv">SPHINXOPTS</span><span class="o">=</span> html
</pre></div>
</div>
<p>You can use the <code class="docutils literal"><span class="pre">O</span></code> variable to set additional options:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">make</span> <span class="pre">O=-j4</span> <span class="pre">html</span></code> runs a parallel build with 4 processes.</li>
<li><code class="docutils literal"><span class="pre">make</span> <span class="pre">O=-Dplot_formats=png:100</span> <span class="pre">html</span></code> saves figures in low resolution.</li>
<li><code class="docutils literal"><span class="pre">make</span> <span class="pre">O=-Dplot_gallery=0</span> <span class="pre">html</span></code> skips the gallery build.</li>
</ul>
<p>Multiple options can be combined using e.g. <code class="docutils literal"><span class="pre">make</span> <span class="pre">O='-j4</span> <span class="pre">-Dplot_gallery=0'</span>
<span class="pre">html</span></code>.</p>
<p>On Windows, options needs to be set as environment variables, e.g. <code class="docutils literal"><span class="pre">set</span> <span class="pre">O=-W</span>
<span class="pre">-j4</span> <span class="pre">&amp;</span> <span class="pre">make</span> <span class="pre">html</span></code>.</p>
</div>
</div>
<div class="section" id="writing-new-documentation">
<h2>Writing new documentation<a class="headerlink" href="#writing-new-documentation" title="Permalink to this headline">¶</a></h2>
<p>Most documentation lives in “docstrings”. These are comment blocks in source
code that explain how the code works. All new or edited docstrings should
conform to the numpydoc guidelines. These split the docstring into a number
of sections - see
<a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt</a> for more
details and a guide to how docstrings should be formatted.</p>
<p>An example docstring looks like:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">hlines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyles</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span>
           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Plot horizontal lines at each *y* from *xmin* to *xmax*.</span>

<span class="sd">      Parameters</span>
<span class="sd">      ----------</span>
<span class="sd">      y : scalar or sequence of scalar</span>
<span class="sd">          y-indexes where to plot the lines.</span>

<span class="sd">      xmin, xmax : scalar or 1D array_like</span>
<span class="sd">          Respective beginning and end of each line. If scalars are</span>
<span class="sd">          provided, all lines will have same length.</span>

<span class="sd">      colors : array_like of colors, optional, default: &#39;k&#39;</span>

<span class="sd">      linestyles : [&#39;solid&#39; | &#39;dashed&#39; | &#39;dashdot&#39; | &#39;dotted&#39;], optional</span>

<span class="sd">      label : string, optional, default: &#39;&#39;</span>

<span class="sd">      Returns</span>
<span class="sd">      -------</span>
<span class="sd">      lines : `~matplotlib.collections.LineCollection`</span>

<span class="sd">      Other Parameters</span>
<span class="sd">      ----------------</span>
<span class="sd">      **kwargs : `~matplotlib.collections.LineCollection` properties.</span>

<span class="sd">      See also</span>
<span class="sd">      --------</span>
<span class="sd">      vlines : vertical lines</span>
<span class="sd">      axhline: horizontal line across the axes</span>
<span class="sd">      &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>The Sphinx website also contains plenty of <a class="reference external" href="http://www.sphinx-doc.org/contents.html">documentation</a> concerning ReST
markup and working with Sphinx in general.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some parts of the documentation do not yet conform to the current
documentation style. If in doubt, follow the rules given here and not what
you may see in the source code. Pull requests updating docstrings to
the current style are very welcome.</p>
</div>
<div class="section" id="additional-formatting-conventions">
<h3>Additional formatting conventions<a class="headerlink" href="#additional-formatting-conventions" title="Permalink to this headline">¶</a></h3>
<p>There are some additional conventions, not handled by numpydoc and the Sphinx
guide:</p>
<ul>
<li><p class="first">We do not have a convention whether to use single-quotes or double-quotes.
There is a mixture of both in the current code. Please leave them as they are.</p>
</li>
<li><p class="first">Long parameter lists should be wrapped using a <code class="docutils literal"><span class="pre">\</span></code> for continuation and
starting on the new line without any indent:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_axes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    ...</span>

<span class="s2">    Parameters</span>
<span class="s2">    ----------</span>
<span class="s2">    projection :</span>
<span class="s2">        [&#39;aitoff&#39; | &#39;hammer&#39; | &#39;lambert&#39; | &#39;mollweide&#39; | </span><span class="se">\</span>
<span class="s2">&#39;polar&#39; | &#39;rectilinear&#39;], optional</span>
<span class="s2">        The projection type of the axes.</span>
</pre></div>
</div>
<p>Alternatively, you can describe the valid parameter values in a dedicated
section of the docstring.</p>
</li>
<li><p class="first">Generally, do not add markup to types for <code class="docutils literal"><span class="pre">Parameters</span></code> and <code class="docutils literal"><span class="pre">Returns</span></code>.
This is usually not needed because Sphinx will link them automatically and
would unnecessarily clutter the docstring. However, it does seem to fail in
some situations. If you encounter such a case, you are allowed to add markup:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span><span class="gh">Returns</span>
<span class="gh">-------</span>
lines : <span class="nv">`~matplotlib.collections.LineCollection`</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="linking-to-other-code">
<h3>Linking to other code<a class="headerlink" href="#linking-to-other-code" title="Permalink to this headline">¶</a></h3>
<p>To link to other methods, classes, or modules in Matplotlib you can encase
the name to refer to in back ticks, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="sb">`~matplotlib.collections.LineCollection`</span>
</pre></div>
</div>
<p>It is also possible to add links to code in Python, Numpy, Scipy, or Pandas.
Sometimes it is tricky to get external Sphinx linking to work; to check that
a something exists to link to the following shell command outputs a list of all
objects that can be referenced (in this case for Numpy):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">sphinx</span><span class="o">.</span><span class="n">ext</span><span class="o">.</span><span class="n">intersphinx</span> <span class="s1">&#39;https://docs.scipy.org/doc/numpy/objects.inv&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="function-arguments">
<h3>Function arguments<a class="headerlink" href="#function-arguments" title="Permalink to this headline">¶</a></h3>
<p>Function arguments and keywords within docstrings should be referred to using
the <code class="docutils literal"><span class="pre">*emphasis*</span></code> role. This will keep Matplotlib’s documentation consistent
with Python’s documentation:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span>Here is a description of <span class="ge">*argument*</span>
</pre></div>
</div>
<p>Please do not use the <code class="docutils literal"><span class="pre">`default</span> <span class="pre">role`</span></code>:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span>Please do not describe <span class="nv">`argument`</span> like this.
</pre></div>
</div>
<p>nor the <code class="docutils literal"><span class="pre">``literal``</span></code> role:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span>Please do not describe <span class="s">``argument``</span> like this.
</pre></div>
</div>
</div>
<div class="section" id="setters-and-getters">
<h3>Setters and getters<a class="headerlink" href="#setters-and-getters" title="Permalink to this headline">¶</a></h3>
<p>Matplotlib uses artist introspection of docstrings to support properties.
All properties that you want to support through <a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.setp.html#matplotlib.pyplot.setp" title="matplotlib.pyplot.setp"><code class="xref py py-obj docutils literal"><span class="pre">setp</span></code></a> and
<code class="xref py py-obj docutils literal"><span class="pre">getp</span></code> should have a <code class="docutils literal"><span class="pre">set_property</span></code> and <code class="docutils literal"><span class="pre">get_property</span></code> method in
the <a class="reference internal" href="../api/artist_api.html#matplotlib.artist.Artist" title="matplotlib.artist.Artist"><code class="xref py py-obj docutils literal"><span class="pre">Artist</span></code></a> class. The setter methods use the docstring
with the ACCEPTS token to indicate the type of argument the method accepts.
e.g., in <a class="reference internal" href="../api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D" title="matplotlib.lines.Line2D"><code class="xref py py-obj docutils literal"><span class="pre">Line2D</span></code></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># in lines.py</span>
<span class="k">def</span> <span class="nf">set_linestyle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linestyle</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the linestyle of the line</span>

<span class="sd">    ACCEPTS: [ &#39;-&#39; | &#39;--&#39; | &#39;-.&#39; | &#39;:&#39; | &#39;steps&#39; | &#39;None&#39; | &#39; &#39; | &#39;&#39; ]</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="keyword-arguments">
<h3>Keyword arguments<a class="headerlink" href="#keyword-arguments" title="Permalink to this headline">¶</a></h3>
<p>Since Matplotlib uses a lot of pass-through <code class="docutils literal"><span class="pre">kwargs</span></code>, e.g., in every function
that creates a line (<a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.plot.html#matplotlib.pyplot.plot" title="matplotlib.pyplot.plot"><code class="xref py py-obj docutils literal"><span class="pre">plot</span></code></a>, <a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.semilogx.html#matplotlib.pyplot.semilogx" title="matplotlib.pyplot.semilogx"><code class="xref py py-obj docutils literal"><span class="pre">semilogx</span></code></a>, <a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.semilogy.html#matplotlib.pyplot.semilogy" title="matplotlib.pyplot.semilogy"><code class="xref py py-obj docutils literal"><span class="pre">semilogy</span></code></a>,
etc…), it can be difficult for the new user to know which <code class="docutils literal"><span class="pre">kwargs</span></code> are
supported.  Matplotlib uses a docstring interpolation scheme to support
documentation of every function that takes a <code class="docutils literal"><span class="pre">**kwargs</span></code>.  The requirements
are:</p>
<ol class="arabic simple">
<li>single point of configuration so changes to the properties don’t
require multiple docstring edits.</li>
<li>as automated as possible so that as properties change, the docs
are updated automatically.</li>
</ol>
<p>The function <a class="reference internal" href="../api/_as_gen/matplotlib.artist.kwdoc.html#matplotlib.artist.kwdoc" title="matplotlib.artist.kwdoc"><code class="xref py py-obj docutils literal"><span class="pre">matplotlib.artist.kwdoc</span></code></a> and the decorator
<code class="xref py py-obj docutils literal"><span class="pre">matplotlib.docstring.dedent_interpd</span></code> facilitate this.  They combine Python
string interpolation in the docstring with the Matplotlib artist introspection
facility that underlies <code class="docutils literal"><span class="pre">setp</span></code> and <code class="docutils literal"><span class="pre">getp</span></code>.  The <code class="docutils literal"><span class="pre">kwdoc</span></code> function gives
the list of properties as a docstring. In order to use this in another
docstring, first update the <code class="docutils literal"><span class="pre">matplotlib.docstring.interpd</span></code> object, as seen in
this example from <a class="reference internal" href="../api/lines_api.html#module-matplotlib.lines" title="matplotlib.lines"><code class="xref py py-obj docutils literal"><span class="pre">matplotlib.lines</span></code></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># in lines.py</span>
<span class="n">docstring</span><span class="o">.</span><span class="n">interpd</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Line2D</span><span class="o">=</span><span class="n">artist</span><span class="o">.</span><span class="n">kwdoc</span><span class="p">(</span><span class="n">Line2D</span><span class="p">))</span>
</pre></div>
</div>
<p>Then in any function accepting <a class="reference internal" href="../api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D" title="matplotlib.lines.Line2D"><code class="xref py py-obj docutils literal"><span class="pre">Line2D</span></code></a> pass-through <code class="docutils literal"><span class="pre">kwargs</span></code>, e.g.,
<a class="reference internal" href="../api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot" title="matplotlib.axes.Axes.plot"><code class="xref py py-obj docutils literal"><span class="pre">matplotlib.axes.Axes.plot</span></code></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># in axes.py</span>
<span class="nd">@docstring.dedent_interpd</span>
<span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Some stuff omitted</span>

<span class="sd">    The kwargs are Line2D properties:</span>
<span class="sd">    %(Line2D)s</span>

<span class="sd">    kwargs scalex and scaley, if defined, are passed on</span>
<span class="sd">    to autoscale_view to determine whether the x and y axes are</span>
<span class="sd">    autoscaled; default True.  See Axes.autoscale_view for more</span>
<span class="sd">    information</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Note there is a problem for <a class="reference internal" href="../api/artist_api.html#matplotlib.artist.Artist" title="matplotlib.artist.Artist"><code class="xref py py-obj docutils literal"><span class="pre">Artist</span></code></a> <code class="docutils literal"><span class="pre">__init__</span></code> methods,
e.g., <code class="xref py py-obj docutils literal"><span class="pre">matplotlib.patches.Patch.__init__</span></code>, which supports <code class="docutils literal"><span class="pre">Patch</span></code> <code class="docutils literal"><span class="pre">kwargs</span></code>,
since the artist inspector cannot work until the class is fully defined and
we can’t modify the <code class="docutils literal"><span class="pre">Patch.__init__.__doc__</span></code> docstring outside the class
definition.  There are some some manual hacks in this case, violating the
“single entry point” requirement above – see the <code class="docutils literal"><span class="pre">docstring.interpd.update</span></code>
calls in <a class="reference internal" href="../api/patches_api.html#module-matplotlib.patches" title="matplotlib.patches"><code class="xref py py-obj docutils literal"><span class="pre">matplotlib.patches</span></code></a>.</p>
</div>
</div>
<div class="section" id="adding-figures">
<h2>Adding figures<a class="headerlink" href="#adding-figures" title="Permalink to this headline">¶</a></h2>
<p>Figures in the documentation are automatically generated from scripts.
It is not necessary to explicitly save the figure from the script; this will be
done automatically when the docs are built to ensure that the code that is
included runs and produces the advertised figure.</p>
<p>There are two options for where to put the code that generates a figure. If
you want to include a plot in the examples gallery, the code should be added to
the <code class="file docutils literal"><span class="pre">examples</span></code> directory. Plots from
the <code class="file docutils literal"><span class="pre">examples</span></code> directory can then be referenced through the symlink
<code class="docutils literal"><span class="pre">mpl_examples</span></code> in the <code class="docutils literal"><span class="pre">doc</span></code> directory, e.g.:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">plot</span><span class="p">::</span> mpl_examples/lines_bars_and_markers/fill.py
</pre></div>
</div>
<p>Alternatively the plotting code can be placed directly in the docstring.
To include plots directly in docstrings, see the following guide:</p>
<div class="section" id="module-matplotlib.sphinxext.plot_directive">
<span id="plot-directive-documentation"></span><h3>Plot directive documentation<a class="headerlink" href="#module-matplotlib.sphinxext.plot_directive" title="Permalink to this headline">¶</a></h3>
<p>A directive for including a matplotlib plot in a Sphinx document.</p>
<p>By default, in HTML output, <code class="xref py py-obj docutils literal"><span class="pre">plot</span></code> will include a .png file with a
link to a high-res .png and .pdf.  In LaTeX output, it will include a
.pdf.</p>
<p>The source code for the plot may be included in one of three ways:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first"><strong>A path to a source file</strong> as the argument to the directive:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">plot</span><span class="p">::</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">plot</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>When a path to a source file is given, the content of the
directive may optionally contain a caption for the plot:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">plot</span><span class="p">::</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">plot</span><span class="o">.</span><span class="n">py</span>

   <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">caption</span> <span class="k">for</span> <span class="n">the</span> <span class="n">plot</span>
</pre></div>
</div>
<p>Additionally, one may specify the name of a function to call (with
no arguments) immediately after importing the module:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">plot</span><span class="p">::</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">plot</span><span class="o">.</span><span class="n">py</span> <span class="n">plot_function1</span>
</pre></div>
</div>
</li>
<li><p class="first">Included as <strong>inline content</strong> to the directive:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">plot</span><span class="p">::</span>

   <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
   <span class="kn">import</span> <span class="nn">matplotlib.image</span> <span class="k">as</span> <span class="nn">mpimg</span>
   <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
   <span class="n">img</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;_static/stinkbug.png&#39;</span><span class="p">)</span>
   <span class="n">imgplot</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Using <strong>doctest</strong> syntax:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">plot</span><span class="p">::</span>
   <span class="n">A</span> <span class="n">plotting</span> <span class="n">example</span><span class="p">:</span>
   <span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
   <span class="o">&gt;&gt;&gt;</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
<div class="section" id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">plot</span></code> directive supports the following options:</p>
<blockquote>
<div><dl class="docutils">
<dt>format <span class="classifier-delimiter">:</span> <span class="classifier">{‘python’, ‘doctest’}</span></dt>
<dd>Specify the format of the input</dd>
<dt>include-source <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd>Whether to display the source code. The default can be changed
using the <code class="xref py py-obj docutils literal"><span class="pre">plot_include_source</span></code> variable in conf.py</dd>
<dt>encoding <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>If this source file is in a non-UTF8 or non-ASCII encoding,
the encoding must be specified using the <code class="xref py py-obj docutils literal"><span class="pre">:encoding:</span></code> option.
The encoding will not be inferred using the <code class="docutils literal"><span class="pre">-*-</span> <span class="pre">coding</span> <span class="pre">-*-</span></code>
metacomment.</dd>
<dt>context <span class="classifier-delimiter">:</span> <span class="classifier">bool or str</span></dt>
<dd>If provided, the code will be run in the context of all
previous plot directives for which the <code class="xref py py-obj docutils literal"><span class="pre">:context:</span></code> option was
specified.  This only applies to inline code plot directives,
not those run from files. If the <code class="docutils literal"><span class="pre">:context:</span> <span class="pre">reset</span></code> option is
specified, the context is reset for this and future plots, and
previous figures are closed prior to running the code.
<code class="docutils literal"><span class="pre">:context:close-figs</span></code> keeps the context but closes previous figures
before running the code.</dd>
<dt>nofigs <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd>If specified, the code block will be run, but no figures will
be inserted.  This is usually useful with the <code class="docutils literal"><span class="pre">:context:</span></code>
option.</dd>
</dl>
</div></blockquote>
<p>Additionally, this directive supports all of the options of the
<code class="xref py py-obj docutils literal"><span class="pre">image</span></code> directive, except for <code class="xref py py-obj docutils literal"><span class="pre">target</span></code> (since plot will add its own
target).  These include <code class="xref py py-obj docutils literal"><span class="pre">alt</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">height</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">width</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">scale</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">align</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">class</span></code>.</p>
</div>
<div class="section" id="configuration-options">
<h4>Configuration options<a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h4>
<p>The plot directive has the following configuration options:</p>
<blockquote>
<div><dl class="docutils">
<dt>plot_include_source</dt>
<dd>Default value for the include-source option</dd>
<dt>plot_html_show_source_link</dt>
<dd>Whether to show a link to the source in HTML.</dd>
<dt>plot_pre_code</dt>
<dd><p class="first">Code that should be executed before each plot. If not specified or None
it will default to a string containing:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
</pre></div>
</div>
</dd>
<dt>plot_basedir</dt>
<dd>Base directory, to which <code class="docutils literal"><span class="pre">plot::</span></code> file names are relative
to.  (If None or empty, file names are relative to the
directory where the file containing the directive is.)</dd>
<dt>plot_formats</dt>
<dd><p class="first">File formats to generate. List of tuples or strings:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="n">suffix</span><span class="p">,</span> <span class="n">dpi</span><span class="p">),</span> <span class="n">suffix</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p class="last">that determine the file format and the DPI. For entries whose
DPI was omitted, sensible defaults are chosen. When passing from
the command line through sphinx_build the list should be passed as
suffix:dpi,suffix:dpi, ….</p>
</dd>
<dt>plot_html_show_formats</dt>
<dd>Whether to show links to the files in HTML.</dd>
<dt>plot_rcparams</dt>
<dd>A dictionary containing any non-standard rcParams that should
be applied before each plot.</dd>
<dt>plot_apply_rcparams</dt>
<dd>By default, rcParams are applied when <code class="xref py py-obj docutils literal"><span class="pre">context</span></code> option is not used in
a plot directive.  This configuration option overrides this behavior
and applies rcParams before each plot.</dd>
<dt>plot_working_directory</dt>
<dd>By default, the working directory will be changed to the directory of
the example, so the code can get at its data files, if any.  Also its
path will be added to <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.path" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">sys.path</span></code></a> so it can import any helper modules
sitting beside it.  This configuration option can be used to specify
a central directory (also added to <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.path" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">sys.path</span></code></a>) where data files and
helper modules for all code are located.</dd>
<dt>plot_template</dt>
<dd>Provide a customized template for preparing restructured text.</dd>
</dl>
</div></blockquote>
<dl class="function">
<dt id="matplotlib.sphinxext.plot_directive.mark_plot_labels">
<code class="descclassname">matplotlib.sphinxext.plot_directive.</code><code class="descname">mark_plot_labels</code><span class="sig-paren">(</span><em>app</em>, <em>document</em><span class="sig-paren">)</span><a class="headerlink" href="#matplotlib.sphinxext.plot_directive.mark_plot_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>To make plots referenceable, we need to move the reference from
the “htmlonly” (or “latexonly”) node to the actual figure node
itself.</p>
</dd></dl>

<dl class="function">
<dt id="matplotlib.sphinxext.plot_directive.out_of_date">
<code class="descclassname">matplotlib.sphinxext.plot_directive.</code><code class="descname">out_of_date</code><span class="sig-paren">(</span><em>original</em>, <em>derived</em><span class="sig-paren">)</span><a class="headerlink" href="#matplotlib.sphinxext.plot_directive.out_of_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if derivative is out-of-date wrt original,
both of which are full file paths.</p>
</dd></dl>

<dl class="function">
<dt id="matplotlib.sphinxext.plot_directive.plot_directive">
<code class="descclassname">matplotlib.sphinxext.plot_directive.</code><code class="descname">plot_directive</code><span class="sig-paren">(</span><em>name</em>, <em>arguments</em>, <em>options</em>, <em>content</em>, <em>lineno</em>, <em>content_offset</em>, <em>block_text</em>, <em>state</em>, <em>state_machine</em><span class="sig-paren">)</span><a class="headerlink" href="#matplotlib.sphinxext.plot_directive.plot_directive" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of the <code class="docutils literal"><span class="pre">..</span> <span class="pre">plot::</span></code> directive.</p>
<p>See the module docstring for details.</p>
</dd></dl>

<dl class="function">
<dt id="matplotlib.sphinxext.plot_directive.remove_coding">
<code class="descclassname">matplotlib.sphinxext.plot_directive.</code><code class="descname">remove_coding</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#matplotlib.sphinxext.plot_directive.remove_coding" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the coding comment, which six.exec_ doesn’t like.</p>
</dd></dl>

<dl class="function">
<dt id="matplotlib.sphinxext.plot_directive.render_figures">
<code class="descclassname">matplotlib.sphinxext.plot_directive.</code><code class="descname">render_figures</code><span class="sig-paren">(</span><em>code</em>, <em>code_path</em>, <em>output_dir</em>, <em>output_base</em>, <em>context</em>, <em>function_name</em>, <em>config</em>, <em>context_reset=False</em>, <em>close_figs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#matplotlib.sphinxext.plot_directive.render_figures" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a pyplot script and save the images in <em>output_dir</em>.</p>
<p>Save the images under <em>output_dir</em> with file names derived from
<em>output_base</em></p>
</dd></dl>

<dl class="function">
<dt id="matplotlib.sphinxext.plot_directive.run_code">
<code class="descclassname">matplotlib.sphinxext.plot_directive.</code><code class="descname">run_code</code><span class="sig-paren">(</span><em>code</em>, <em>code_path</em>, <em>ns=None</em>, <em>function_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#matplotlib.sphinxext.plot_directive.run_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Import a Python module from a path, and run the function given by
name, if function_name is not None.</p>
</dd></dl>

<dl class="function">
<dt id="matplotlib.sphinxext.plot_directive.split_code_at_show">
<code class="descclassname">matplotlib.sphinxext.plot_directive.</code><code class="descname">split_code_at_show</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#matplotlib.sphinxext.plot_directive.split_code_at_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Split code at plt.show()</p>
</dd></dl>

<dl class="function">
<dt id="matplotlib.sphinxext.plot_directive.unescape_doctest">
<code class="descclassname">matplotlib.sphinxext.plot_directive.</code><code class="descname">unescape_doctest</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#matplotlib.sphinxext.plot_directive.unescape_doctest" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract code from a piece of text, which contains either Python code
or doctests.</p>
</dd></dl>

</div>
</div>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>The source of the files in the <code class="file docutils literal"><span class="pre">examples</span></code> directory are automatically run
and their output plots included in the documentation. To exclude an example
from having an plot generated insert “sgskip” somewhere in the filename.</p>
</div>
</div>
<div class="section" id="adding-animations">
<h2>Adding animations<a class="headerlink" href="#adding-animations" title="Permalink to this headline">¶</a></h2>
<p>We have a Matplotlib Google/Gmail account with username <code class="docutils literal"><span class="pre">mplgithub</span></code>
which we used to setup the github account but can be used for other
purposes, like hosting Google docs or Youtube videos.  You can embed a
Matplotlib animation in the docs by first saving the animation as a
movie using <a class="reference internal" href="../api/_as_gen/matplotlib.animation.Animation.html#matplotlib.animation.Animation.save" title="matplotlib.animation.Animation.save"><code class="xref py py-meth docutils literal"><span class="pre">matplotlib.animation.Animation.save()</span></code></a>, and then
uploading to <a class="reference external" href="https://www.youtube.com/user/matplotlib">matplotlib’s Youtube
channel</a> and inserting the
embedding string youtube provides like:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">raw</span><span class="p">::</span> html

   &lt;iframe width=&quot;420&quot; height=&quot;315&quot;
     src=&quot;http://www.youtube.com/embed/32cjc6V0OZY&quot;
     frameborder=&quot;0&quot; allowfullscreen&gt;
   &lt;/iframe&gt;
</pre></div>
</div>
<p>An example save command to generate a movie looks like this</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animate</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)),</span>
    <span class="n">interval</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">init_func</span><span class="o">=</span><span class="n">init</span><span class="p">)</span>

<span class="n">ani</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;double_pendulum.mp4&#39;</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
<p>Contact Michael Droettboom for the login password to upload youtube videos of
google docs to the mplgithub account.</p>
</div>
<div class="section" id="referring-to-data-files">
<span id="referring-to-mpl-docs"></span><h2>Referring to data files<a class="headerlink" href="#referring-to-data-files" title="Permalink to this headline">¶</a></h2>
<p>In the documentation, you may want to include to a data file in the Matplotlib
sources, e.g., a license file or an image file from <code class="file docutils literal"><span class="pre">mpl-data</span></code>, refer to it via
a relative path from the document where the rst file resides, e.g.,
in <code class="file docutils literal"><span class="pre">users/navigation_toolbar.rst</span></code>, you can refer to the image icons with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">image</span><span class="p">::</span> <span class="o">../../</span><span class="n">lib</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">/</span><span class="n">mpl</span><span class="o">-</span><span class="n">data</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">subplots</span><span class="o">.</span><span class="n">png</span>
</pre></div>
</div>
<p>In the <code class="file docutils literal"><span class="pre">users</span></code> subdirectory, if you want to refer to a file in the
<code class="file docutils literal"><span class="pre">mpl-data</span></code> directory, you can use the symlink directory. For example,
from <code class="file docutils literal"><span class="pre">customizing.rst</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">literalinclude</span><span class="p">::</span> <span class="o">../../</span><span class="n">lib</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">/</span><span class="n">mpl</span><span class="o">-</span><span class="n">data</span><span class="o">/</span><span class="n">matplotlibrc</span>
</pre></div>
</div>
<p>One exception to this is when referring to the examples directory. Relative
paths are extremely confusing in the sphinx plot extensions, so it is easier
to simply include a symlink to the files at the top doc level directory.
This way, API documents like <a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.plot.html#matplotlib.pyplot.plot" title="matplotlib.pyplot.plot"><code class="xref py py-meth docutils literal"><span class="pre">matplotlib.pyplot.plot()</span></code></a> can refer to the
examples in a known location.</p>
<p>In the top level <code class="file docutils literal"><span class="pre">doc</span></code> directory we have symlinks pointing to the
Matplotlib <code class="file docutils literal"><span class="pre">examples</span></code>:</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>home:~/mpl/doc&gt; ls -l mpl_*
mpl_examples -&gt; ../examples
</pre></div>
</div>
<p>So we can include plots from the examples dir using the symlink:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">plot</span><span class="p">::</span> mpl_examples/pylab_examples/simple_plot.py
</pre></div>
</div>
</div>
<div class="section" id="internal-section-references">
<span id="internal-section-refs"></span><h2>Internal section references<a class="headerlink" href="#internal-section-references" title="Permalink to this headline">¶</a></h2>
<p>To maximize internal consistency in section labeling and references,
use hyphen separated, descriptive labels for section references, e.g.:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_howto-webapp:</span>
</pre></div>
</div>
<p>and refer to it using  the standard reference syntax:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span>See <span class="na">:ref:</span><span class="nv">`howto-webapp`</span>
</pre></div>
</div>
<p>Keep in mind that we may want to reorganize the contents later, so
please try to avoid top level names in references like <code class="docutils literal"><span class="pre">user</span></code> or <code class="docutils literal"><span class="pre">devel</span></code>
or <code class="docutils literal"><span class="pre">faq</span></code> unless necessary, because for example the FAQ “what is a
backend?” could later become part of the users guide, so the label:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span><span class="cp">.. _what-is-a-backend</span>
</pre></div>
</div>
<p>is better than:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span><span class="cp">.. _faq-backend</span>
</pre></div>
</div>
<p>In addition, since underscores are widely used by Sphinx itself, please use
hyphens to separate words.</p>
</div>
<div class="section" id="section-name-formatting">
<h2>Section name formatting<a class="headerlink" href="#section-name-formatting" title="Permalink to this headline">¶</a></h2>
<p>For everything but top level chapters, please use <code class="docutils literal"><span class="pre">Upper</span> <span class="pre">lower</span></code> for
section titles, e.g., <code class="docutils literal"><span class="pre">Possible</span> <span class="pre">hangups</span></code> rather than <code class="docutils literal"><span class="pre">Possible</span>
<span class="pre">Hangups</span></code></p>
</div>
<div class="section" id="generating-inheritance-diagrams">
<h2>Generating inheritance diagrams<a class="headerlink" href="#generating-inheritance-diagrams" title="Permalink to this headline">¶</a></h2>
<p>Class inheritance diagrams can be generated with the
<code class="docutils literal"><span class="pre">inheritance-diagram</span></code> directive.  To use it, provide the
directive with a number of class or module names (separated by
whitespace).  If a module name is provided, all classes in that module
will be used.  All of the ancestors of these classes will be included
in the inheritance diagram.</p>
<p>A single option is available: <em>parts</em> controls how many of parts in
the path to the class are shown.  For example, if <em>parts</em> == 1, the
class <code class="docutils literal"><span class="pre">matplotlib.patches.Patch</span></code> is shown as <code class="docutils literal"><span class="pre">Patch</span></code>.  If <em>parts</em>
== 2, it is shown as <code class="docutils literal"><span class="pre">patches.Patch</span></code>.  If <em>parts</em> == 0, the full
path is shown.</p>
<p>Example:</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">inheritance-diagram</span><span class="p">::</span> matplotlib.patches matplotlib.lines matplotlib.text
   <span class="nc">:parts:</span> <span class="nf">2</span>
</pre></div>
</div>
<img src="../_images/inheritance-dedcc1c71ae54be773d8e45d7e30897709db8581.png" alt="Inheritance diagram of matplotlib.patches, matplotlib.lines, matplotlib.text" usemap="#inheritance03ab0131b5" class="inheritance"/>
<map id="inheritance03ab0131b5" name="inheritance03ab0131b5">
<area shape="rect" id="node1" href="../api/artist_api.html#matplotlib.artist.Artist" target="_top" title="Abstract base class for someone who renders into a" alt="" coords="46,284,134,307"/>
<area shape="rect" id="node2" href="../api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D" target="_top" title="A line &#45; the line can have both a solid linestyle connecting all" alt="" coords="227,237,320,261"/>
<area shape="rect" id="node7" href="../api/_as_gen/matplotlib.patches.Patch.html#matplotlib.patches.Patch" target="_top" title="A patch is a 2D artist with a face color and an edge color." alt="" coords="221,284,326,307"/>
<area shape="rect" id="node25" href="../api/text_api.html#matplotlib.text.Text" target="_top" title="Handle storing and drawing of text in window or data coordinates." alt="" coords="238,538,309,562"/>
<area shape="rect" id="node3" href="../api/_as_gen/matplotlib.lines.VertexSelector.html#matplotlib.lines.VertexSelector" target="_top" title="Manage the callbacks to maintain a list of selected vertices for" alt="" coords="20,237,161,261"/>
<area shape="rect" id="node4" href="../api/_as_gen/matplotlib.patches.Arc.html#matplotlib.patches.Arc" target="_top" title="An elliptical arc. &#160;Because it performs various optimizations, it" alt="" coords="630,5,723,29"/>
<area shape="rect" id="node5" href="../api/_as_gen/matplotlib.patches.Ellipse.html#matplotlib.patches.Ellipse" target="_top" title="A scale&#45;free ellipse." alt="" coords="403,28,513,51"/>
<area shape="rect" id="node10" href="../api/_as_gen/matplotlib.patches.Circle.html#matplotlib.patches.Circle" target="_top" title="A circle patch." alt="" coords="624,51,729,75"/>
<area shape="rect" id="node6" href="../api/_as_gen/matplotlib.patches.Arrow.html#matplotlib.patches.Arrow" target="_top" title="An arrow patch." alt="" coords="405,74,511,98"/>
<area shape="rect" id="node12" href="../api/_as_gen/matplotlib.patches.RegularPolygon.html#matplotlib.patches.RegularPolygon" target="_top" title="A regular polygon patch." alt="" coords="376,120,540,144"/>
<area shape="rect" id="node14" href="../api/_as_gen/matplotlib.patches.FancyArrowPatch.html#matplotlib.patches.FancyArrowPatch" target="_top" title="A fancy arrow patch. It draws an arrow using the :class:`ArrowStyle`." alt="" coords="371,167,545,191"/>
<area shape="rect" id="node17" href="../api/_as_gen/matplotlib.patches.Polygon.html#matplotlib.patches.Polygon" target="_top" title="A general polygon patch." alt="" coords="398,213,518,237"/>
<area shape="rect" id="node18" href="../api/_as_gen/matplotlib.patches.FancyBboxPatch.html#matplotlib.patches.FancyBboxPatch" target="_top" title="Draw a fancy box around a rectangle with lower left at *xy*=(*x*," alt="" coords="373,260,543,284"/>
<area shape="rect" id="node19" href="../api/_as_gen/matplotlib.patches.PathPatch.html#matplotlib.patches.PathPatch" target="_top" title="A general polycurve path patch." alt="" coords="392,306,524,330"/>
<area shape="rect" id="node20" href="../api/_as_gen/matplotlib.patches.Rectangle.html#matplotlib.patches.Rectangle" target="_top" title="Draw a rectangle with lower left at *xy* = (*x*, *y*) with" alt="" coords="393,353,523,376"/>
<area shape="rect" id="node21" href="../api/_as_gen/matplotlib.patches.Shadow.html#matplotlib.patches.Shadow" target="_top" title="patches.Shadow" alt="" coords="398,399,518,423"/>
<area shape="rect" id="node22" href="../api/_as_gen/matplotlib.patches.Wedge.html#matplotlib.patches.Wedge" target="_top" title="Wedge shaped patch." alt="" coords="402,445,514,469"/>
<area shape="rect" id="node23" href="../api/_as_gen/matplotlib.patches.YAArrow.html#matplotlib.patches.YAArrow" target="_top" title="Yet another arrow class." alt="" coords="398,492,518,516"/>
<area shape="rect" id="node8" href="../api/_as_gen/matplotlib.patches.ArrowStyle.html#matplotlib.patches.ArrowStyle" target="_top" title=":class:`ArrowStyle` is a container class which defines several" alt="" coords="22,191,159,215"/>
<area shape="rect" id="node9" href="../api/_as_gen/matplotlib.patches.BoxStyle.html#matplotlib.patches.BoxStyle" target="_top" title=":class:`BoxStyle` is a container class which defines several" alt="" coords="28,144,153,168"/>
<area shape="rect" id="node11" href="../api/_as_gen/matplotlib.patches.CirclePolygon.html#matplotlib.patches.CirclePolygon" target="_top" title="A polygon&#45;approximation of a circle patch." alt="" coords="600,120,753,144"/>
<area shape="rect" id="node13" href="../api/_as_gen/matplotlib.patches.ConnectionPatch.html#matplotlib.patches.ConnectionPatch" target="_top" title="A :class:`~matplotlib.patches.ConnectionPatch` class is to make" alt="" coords="590,167,763,191"/>
<area shape="rect" id="node15" href="../api/_as_gen/matplotlib.patches.ConnectionStyle.html#matplotlib.patches.ConnectionStyle" target="_top" title=":class:`ConnectionStyle` is a container class which defines" alt="" coords="5,98,176,122"/>
<area shape="rect" id="node16" href="../api/_as_gen/matplotlib.patches.FancyArrow.html#matplotlib.patches.FancyArrow" target="_top" title="Like Arrow, but lets you set head width and head height independently." alt="" coords="606,213,747,237"/>
<area shape="rect" id="node24" href="../api/text_api.html#matplotlib.text.Annotation" target="_top" title="text.Annotation" alt="" coords="401,538,515,562"/>
<area shape="rect" id="node27" href="../api/text_api.html#matplotlib.text.TextWithDash" target="_top" title="This is basically a :class:`~matplotlib.text.Text` with a dash" alt="" coords="394,585,522,609"/>
<area shape="rect" id="node26" href="../api/text_api.html#matplotlib.text.OffsetFrom" target="_top" title="Callable helper class for working with `Annotation`" alt="" coords="33,51,147,75"/>
</map>
</div>
<div class="section" id="emacs-helpers">
<span id="id1"></span><h2>Emacs helpers<a class="headerlink" href="#emacs-helpers" title="Permalink to this headline">¶</a></h2>
<p>There is an emacs mode <a class="reference external" href="http://docutils.sourceforge.net/tools/editors/emacs/rst.el">rst.el</a> which
automates many important ReST tasks like building and updating
table-of-contents, and promoting or demoting section headings.  Here
is the basic <code class="docutils literal"><span class="pre">.emacs</span></code> configuration:</p>
<div class="highlight-lisp"><div class="highlight"><pre><span></span><span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;rst</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">auto-mode-alist</span>
      <span class="p">(</span><span class="nb">append</span> <span class="o">&#39;</span><span class="p">((</span><span class="s">&quot;\\.txt$&quot;</span> <span class="o">.</span> <span class="nv">rst-mode</span><span class="p">)</span>
                <span class="p">(</span><span class="s">&quot;\\.rst$&quot;</span> <span class="o">.</span> <span class="nv">rst-mode</span><span class="p">)</span>
                <span class="p">(</span><span class="s">&quot;\\.rest$&quot;</span> <span class="o">.</span> <span class="nv">rst-mode</span><span class="p">))</span> <span class="nv">auto-mode-alist</span><span class="p">))</span>
</pre></div>
</div>
<p>Some helpful functions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">-</span><span class="n">c</span> <span class="n">TAB</span> <span class="o">-</span> <span class="n">rst</span><span class="o">-</span><span class="n">toc</span><span class="o">-</span><span class="n">insert</span>

  <span class="n">Insert</span> <span class="n">table</span> <span class="n">of</span> <span class="n">contents</span> <span class="n">at</span> <span class="n">point</span>

<span class="n">C</span><span class="o">-</span><span class="n">c</span> <span class="n">C</span><span class="o">-</span><span class="n">u</span> <span class="o">-</span> <span class="n">rst</span><span class="o">-</span><span class="n">toc</span><span class="o">-</span><span class="n">update</span>

    <span class="n">Update</span> <span class="n">the</span> <span class="n">table</span> <span class="n">of</span> <span class="n">contents</span> <span class="n">at</span> <span class="n">point</span>

<span class="n">C</span><span class="o">-</span><span class="n">c</span> <span class="n">C</span><span class="o">-</span><span class="n">l</span> <span class="n">rst</span><span class="o">-</span><span class="n">shift</span><span class="o">-</span><span class="n">region</span><span class="o">-</span><span class="n">left</span>

    <span class="n">Shift</span> <span class="n">region</span> <span class="n">to</span> <span class="n">the</span> <span class="n">left</span>

<span class="n">C</span><span class="o">-</span><span class="n">c</span> <span class="n">C</span><span class="o">-</span><span class="n">r</span> <span class="n">rst</span><span class="o">-</span><span class="n">shift</span><span class="o">-</span><span class="n">region</span><span class="o">-</span><span class="n">right</span>

    <span class="n">Shift</span> <span class="n">region</span> <span class="n">to</span> <span class="n">the</span> <span class="n">right</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2017 The Matplotlib development team.
      Last updated on Dec 04, 2017.
      Created using <a
href="http://sphinx-doc.org/">Sphinx</a> 1.6.5.
    </div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55954603-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
<footer>
  <!--Flipcause Integration v3.0// Flipcause Integration Instructions:
Install the following code block once in the website Header (after <head> tag) -->

<style>

.fc-black_overlay{
display:none; position: fixed; z-index:1000001; top: 0%;left: 0%;width: 100%;height: 100%;
background-color: black; filter: alpha(opacity=50); cursor:pointer; opacity:0.5;
}

.fc-white_content {
opacity:1; display:none; margin-top: -320px; margin-left: -485px; width:970px; height:640px;
position:fixed; top:50%; left:50%; border: none;z-index:1000002;overflow: auto;
}

.fc-main-box{
opacity:1; display:none; margin:15px auto 0 auto; width:930px; position:relative; z-index:1000003;
}

.fc-widget_close{
opacity:1; content:url(http://i1338.photobucket.com/albums/o691/WeCause/X_zpse4a7e538.png);
position:absolute; z-index=1000004; right:-16px; top:-16px; display:block; cursor:pointer;
}

.floating_button{
display: block; margin-top: 0px; margin-left: 0px; width:auto ; height: auto;
position:fixed; z-index:999999; overflow: auto;
}

@keyframes backfadesin {
   from { opacity:0; }
   to {opacity:.5;}
}

@-moz-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-webkit-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-o-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}


@-ms-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; transform: translateY(20px);}
   100% {opacity: 1; transform: translateY(0);}
}

@-moz-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -moz-transform: translateY(20px);}
   100% {opacity: 1; -moz-transform: translateY(0);}
}

@-webkit-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -webkit-transform: translateY(20px);}
   100% {opacity: 1; -webkit-transform: translateY(0);}
}

@-o-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -o-transform: translateY(20px);}
   100% {opacity: 1; -o-transform: translateY(0);}
}

@-ms-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -ms-transform: translateY(20px);}
   100% {opacity: 1; -ms-transform: translateY(0);}
}

</style>

<script>

function open_window(cause_id) {
var  protocol=String(document.location.protocol);
var new_url;
if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){
new_url="https://www.flipcause.com/widget/"+cause_id
window.open(new_url);
}

else {
document.getElementById("fc-fade").style.display = "block";
document.getElementById("fc-fade").style.webkitAnimation = "backfadesin 1s";
document.getElementById("fc-fade").style.animation = "backfadesin 1s";
document.getElementById("fc-fade").style.mozAnimation = "backfadesin 1s";
document.getElementById("fc-light").style.display = "block";
document.getElementById("fc-light").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-light").style.animation = "fadesin 1.5s";
document.getElementById("fc-light").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-main").style.display = "block";
document.getElementById("fc-main").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-main").style.animation = "fadesin 1.5s";
document.getElementById("fc-main").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-close").style.display = "block";
document.getElementById("fc-close").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-close").style.animation = "fadesin 1.5s";
document.getElementById("fc-close").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.display = "block";
document.getElementById("fc-myFrame").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.animation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").src="https://www.flipcause.com/widget/"+cause_id;
}
}


function close_window() {
document.getElementById("fc-fade").style.display="none";
document.getElementById("fc-light").style.display="none";
document.getElementById("fc-main").style.display="none";
document.getElementById("fc-close").style.display="none";
document.getElementById("fc-myFrame").style.display="none";
}

</script>

<div id="fc-fade" class="fc-black_overlay" onclick="close_window()"></div>
<div id="fc-light" class="fc-white_content">
<div id="fc-main" class="fc-main-box">
<div id="fc-close" class="fc-widget_close" onclick="close_window()">
</div><iframe id="fc-myFrame" iframe height="580" width="925" style="border: 0;
border-radius:5px 5px 5px 5px; box-shadow:0 0 8px rgba(0, 0, 0, 0.5);" scrolling="no" src=""></iframe></div>
</div>

<!--END Flipcause Main Integration Code-->
</footer>
</html>